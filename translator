#!/usr/bin/env bash

cygwin=false

case "`uname`" in
  CYGWIN*) cygwin=true;;
  Darwin) darwin=true;;
esac

TGM_ROOT=$(dirname `which $0`)

if $cygwin; then
  CP=`cat $TGM_ROOT/.classpath | grep 'kind="lib"' | awk -F '"' '{printf"%s;",$4}'`
  scala -J-Xmx1g -cp "$CP;`cygpath -alpm $TGM_ROOT:$TGM_ROOT`/target/scala-2.10/classes" TrigramTranslator "$@" 
else
  CP=`cat $TGM_ROOT/.classpath | grep 'kind="lib"' | awk -F '"' '{printf"%s:",$4}'`
  scala -J-Xmx1g -cp "$CP:$TGM_ROOT:$TGM_ROOT/target/scala-2.10/classes" TrigramTranslator "$@" 
fi
